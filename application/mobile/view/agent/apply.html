{extend name="public/base"/ }
{block name="body"}
<style>
    body {
        background: url({$config.agent_apply_bg}) no-repeat;
        background-size: 100% 100%;
        box-sizing: border-box;
        padding: 10vh 7vw;
    }
</style>
<body>
<div class="inbox">
    <form id="data-form">
        <p class="tit">代理申请</p>
        <div style="padding: 0 3%;width: 84%;margin: 0 auto;overflow: hidden;margin-bottom: 10px;">
            <span class="stit">手机号码</span>
            <input class="in" type="number" name="mobile" value="{$user.mobile}" placeholder="请输入手机号码" notnull notice="请输入收货人">
        </div>
        <div style="padding: 0 3%;width: 84%;margin: 0 auto;overflow: hidden;margin-bottom: 10px;">
            <span class="stit">验证码</span>
            <input class="in" style="width: calc(100% - 150px)" type="number" name="code" placeholder="请输入验证码" notnull notice="请输入验证码">
            <span class="havenum">获取验证码</span>
        </div>
        <div style="padding: 0 3%;width: 84%;margin: 0 auto;overflow: hidden;margin-bottom: 10px;">
            <span class="stit">姓名</span>
            <input class="in" type="text" name="real_name" placeholder="请输入姓名" notnull notice="请输入姓名">
        </div>
        <div style="padding: 0 3%;width: 84%;margin: 0 auto;overflow: hidden;margin-bottom: 10px;">
            <span class="stit">微信号码</span>
            <input class="in" type="text" name="wechat" value="" placeholder="请输入微信号码" notnull notice="请输入微信号码">
        </div>
        <div style="padding: 0 3%;width: 84%;margin: 0 auto;overflow: hidden;margin-bottom: 10px;">
            <span class="stit">生日</span>
            <input class="in date" type="text" name="birthday" placeholder="请选择生日" notnull notice="请选择生日">
        </div>

        <div style="padding: 3% 1%;width: 94%;margin: 0 auto;overflow: hidden;border-bottom: 1px solid #fff;">
            <div class="choosexie"></div>
            <span class="ty" style="margin-right: 2px;">同意<span class="ty tyx">  {$xieyi.title}</span></span>
            <span class="ty2">此申请将在提交申请后24小时内审核</span>
        </div>
        <input type="hidden" name="xy_agree" value="" notnull notice="请悉知代理协议，并点击同意">

        <a class="goback" href="javascript:history.go(-1);">取消</a>
        <button type="submit" class="formbtn">提交申请</button>
    </form>
    <input type="hidden" id="do_action" value="{:url('Agent/apply_do')}">
</div>

<!-- 富文本 -->
<div class="fubox">
    <div style="width: 100%;text-align: center;overflow: hidden;">
        {$xieyi.title}
        <span class="go"><  关闭</span>
    </div>

    <div class="fu">
        {$xieyi.content}
    </div>

</div>
<script>
    $(document).ready(function () {
        mobile = "{$user.mobile}";
        agent_obj.apply();
    });

    $(function () {

        // // 时间插件
        // $(".date").mobiscroll().datetime({
        //         theme: "android-holo-light",
        //         lang: "zh",
        //         cancelText: null,
        //         dateFormat: 'yy-mm-dd', //返回结果格式化为年月格式
        //         dateOrder: 'yymmdd',
        //         display: 'bottom',
        //         weekDays:'short',
        //         // wheels:[], //设置此属性可以只显示年月，此处演示，就用下面的onBeforeShow方法,另外也可以用treelist去实现
        //         onBeforeShow: function (inst) { inst.settings.wheels[0].length>3?inst.settings.wheels[0].pop():null; }, //弹掉"日"滚轮
        //         headerText: function (valueText) { //自定义弹出框头部格式
        //             array = valueText.split('月');
        //             return  array[0];
        //             //return  array[0] + "月"+array[1]+"";
        //         }
        // })

        //同意协议
        function chooseyes() {
            $('.choosexie').on('click', function () {
                if ($(this).hasClass('choosexiex')) {
                    $(this).removeClass('choosexiex');
                    $('input[name=xy_agree]').val("");
                }
                else {
                    $(this).addClass('choosexiex');
                    $('input[name=xy_agree]').val(1);
                }
            })
        }

        chooseyes();

        $('.go').on('click', function () {
            $('.fubox').hide();
        })

        $('.tyx').on('click', function () {
            $('.fubox').show();
        })

    })

</script>

{/block}