{include file="public/header" title="我的地址"}
<body>
<script>
    $(document).ready(vip_obj.addresslist);
</script>
<div class="wrap">
    {include file="public/top_nav"}
    <div class="banner">
        {include file="public/search"}
        {include file="public/category_nav"}
    </div>
    <div class="volume-wrapper">
        <div class="volume-wrapper-content">

            {include file="public/vip_nav" title="个人中心"}

            <div class="add-addr">
                <p class="add-btn">新增收货地址</p>
                <p class="add-tip"><!--您已创建<span>3</span>个收货地址，-->最多可创建20个</p>
            </div>
            <ul class="addr-list" id="address_list">
                {volist name="myadressList" id="vo"}
                <li address_id="{$vo.id}" id="address_id{$vo.id}">
                    <img class="close address_del" src="__STATIC__/home/common/images/layer-close.png">
                    <p class="name">{$vo.linkman} {if condition="$vo.is_default eq 1"}<span style="display: inline-block;">默认地址</span>{/if}</p>
                    <div class="addr-wrap">
                        <p class="addr-left">收货人：</p>
                        <p class="addr-right">{$vo.linkman}</p>
                    </div>
                    <div class="addr-wrap">
                        <p class="addr-left">所在地区：</p>
                        <p class="addr-right">{$vo.province} {$vo.city} {$vo.district} </p>
                    </div>
                    <div class="addr-wrap">
                        <p class="addr-left">详细地址：</p>
                        <p class="addr-right">{$vo.address}</p>
                    </div>
                    <div class="addr-wrap">
                        <p class="addr-left">联系电话：</p>
                        <p class="addr-right">{$vo.linktel}</p>
                    </div>
                    <div class="addr-wrap">
                        <p class="addr-left">邮编：</p>
                        <p class="addr-right">{$vo.postcode}</p>
                    </div>
                    <div class="addr-function">
                        <p class="addr-edit address_edit">编辑</p>
                        <p class="addr-default address_default">设为默认</p>
                    </div>
                </li>
                {/volist}
            </ul>
            <!--<div class="add-addr">-->
                <!--<p class="add-btn">新增收货地址</p>-->
                <!--<p class="add-tip">&lt;!&ndash;您已创建<span>3</span>个收货地址，&ndash;&gt;最多可创建20个</p>-->
            <!--</div>-->

        </div>
    </div>


    <!-- 添加地址浮层 -->
    <div class="login-layer address_add_layer">
        <form action="" id="form_address">
            <div class="login-layer-content">
                <img class="layer-close" src="__STATIC__/home/common/images/layer-close.png">
                <p class="layer-tit">增加收货地址</p>
                <div class="input-box">
                    <p class="input-tit"><span>*</span>收货人姓名</p>
                    <input type="text" name="linkman">
                </div>
                <div class="input-box">
                    <p class="input-tit"><span>*</span>手机号码</p>
                    <input type="text" name="linktel">
                </div>
                <div class="input-box">
                    <p class="input-tit"><span>*</span>所在地区</p>
                    <div class="slect-box" data-toggle="distpicker">
                        <select name="province_id"  id="province" onChange="get_city(this,0)">
                            <option value=""> 请选择 </option>
                            {foreach name="provinceList" item="vo"}
                            <option value="{$vo.id}"> {$vo.name} </option>
                            {/foreach}
                        </select>
                        <select name="city_id" id="city" onChange="get_area(this)">
                            <option value=""> 请选择 </option>
                        </select>
                        <select  name="district_id" id="district">
                            <option value=""> 请选择 </option>
                        </select>
                    </div>
                </div>
                <div class="input-box">
                    <p class="input-tit"><span>*</span>详情地址</p>
                    <input type="text" name="address">
                </div>
                <div class="input-box">
                    <p class="input-tit"><span></span>邮编地址</p>
                    <input type="text" name="postcode">
                </div>
                <input type="hidden" name="id" value="">
                <p class="layer-btn save_addr_do">保存收货地址</p>
            </div>
        </form>
    </div>

    <div class="login-layer address_edit_layer">
        <form action="" id="form_address_edit">
        </form>
    </div>
    {include file="public/footer"}
    <!--右边导航s-->
    {include file="public/right_nav"}
    <!--右边导航e-->

</div>
<script type="text/javascript">
    var address_dom = $("#form_address").html();
    $("#form_address").empty();
    $(function () {
        // 设为默认
        $(".addr-default").click(function () {
            $(".name span").css("display", 'none');
            $(this).parents("li").find(".name span").css("display", 'inline-block');
        })
        // 浮沉隐藏
        $(document).on("click",".layer-close",function () {
            hide_login_layer();
        })
        // 浮层出现
        $(".add-btn").click(function () {
            $("#form_address").empty().html(address_dom);
            $(".address_add_layer").show();
        })
    })
    function hide_login_layer() {
        $("#form_address").empty();
        $("#form_address_edit").empty();
        $(".login-layer").hide();
    }
</script>
</body>
</html>